<link rel="preconnect" href="https://fonts.gstatic.com" />
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="/stylesheets/modal.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

<% if (locals.msg) { %>
<!-- The Modal -->
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>        
    <%= locals.msg %>
  </div>
</div>

<script>
  // Get the modal
  var modal = document.getElementById("myModal");
  
  // Get the <span> element that closes the modal
  var span = document.getElementsByClassName("close")[0];
  
  // When the user clicks on <span> (x), close the modal
  span.onclick = function() {
    modal.style.display = "none";
  }
  
  // When the user clicks anywhere outside of the modal, close it
  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }

  // 모달 띄우기
  modal.style.display = "block";
  </script>
<% } %>

  <header class="site-header">
      <a href="/">
        <h1
          style="
            color: crimson;
            font-size: 48px;
            font-family: 'Courier New', Courier, monospace;
            font-style: italic;
          "
        >
          TTOB!
        </h1>
      </a>
    <!-- 수정 필요, 로그인 했을 때 받는 값을 잘 모르겠음 -->
    <% if (!locals.user) { %>
      <a href="/signup" >
        <div style="width: 155px; font-size: 18px; align-items: center">Sign up</div>
      </a>
      <a href="/login" >
        <div style="width: 155px; font-size: 18px; align-items: center">Log in</div>
      </a>
    </div>
    <% } else { %>
    <div style="margin-left: 10px; display: inline-flex">
      <div >
        <a
          href="/logout"
          class="button login-button"
          role="button"
        >
          Log out
        </a>
        <% if (locals.user && locals.user.role == 'ADMIN') { %>
        <span>당신은 관리자입니다!</span>
        <% } %>
      </div>
    </div>
    <% } %>
  </header>
